<main class="form-signin">

  <div class="table-responsive">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Id</th>
          <th>Short Url</th>
        </tr>
      </thead>
      <tbody>
        <% ShortUrl.all.each_with_index do |url, index| %>
          <tr>
            <td><%= index + 1 %></td>
            <td><%= "#{request.base_url}/#{url.code}" %></td>
          </tr>
          <% end %>
      </tbody>
    </table>
  </div> 

  <%= simple_form_for :short_url, url: decode_path, method: :patch do |f| %>
      <h1 class="h3 mb-3 fw-normal">Decode Shorterned Url</h1>


      <div class="form-floating">
        <%= f.input :long_url, input_html: {class: 'form-control longUrl'}, label: false %>
      </div>

      <div class="btn-group w-100" role="group" aria-label="Basic mixed styles example">
        <%= f.button :submit, 'Decode', class: "btn btn-warning" %>
        <%= link_to "Back", encodes_path, class: "btn btn-secondary" %>
      </div>

  <% end %>

  <hr>
  
  <p class="border p-2"><span class="fw-bold">Original Url: </span><%= params.dig(:short_url) %></p>

</main>

<style>
html,
body {
  height: 100%;
}

body {
  display: flex;
  align-items: center;
  padding-top: 40px;
  padding-bottom: 40px;
  background-color: #f5f5f5;
}

.form-signin {
  width: 100%;
  max-width: 550px;
  padding: 15px;
  margin: auto;
}

.longUrl {
  margin-bottom: 10px;
}

</style>
